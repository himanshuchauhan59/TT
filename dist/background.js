function getUserInfo(){chrome.identity.getAuthToken({interactive:!0},(function(e){!chrome.runtime.lastError&&e?fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{chrome.runtime.sendMessage({type:"FROM_BACKGROUND",payload:{type:"LOGIN_SUCCESS",data:e}}),console.log("User Info: ",e)})).catch((e=>{console.error("Error fetching user info: ",e)})):console.error(chrome.runtime.lastError)}))}chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch((e=>console.error(e))),chrome.runtime.lastError&&console.error("Error:",chrome.runtime.lastError.message),chrome.runtime.onMessage.addListener(((e,o,t)=>{console.log("Message received: ",e),"LOGIN_WITH_GOOGLE"===e.type&&getUserInfo(),"SEND_NOTIFICATION"===e.type&&chrome.notifications.create({type:"basic",iconUrl:"https://fastly.picsum.photos/id/47/100/100.jpg?hmac=_qWaxPpbFMHdU26gAMani4rFcYKZf9e_FC1FNdSIkZ8",title:"Test Notification",message:"Hey this is test notification",priority:2,buttons:[{title:"Yes"},{title:"No"}]},(e=>{console.log("Notification created with ID:",e)}))}));